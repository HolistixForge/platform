.users-scopes {
  --column-width: 200px;
  --header-height: 40px;
  --sa-vp-padding: 15px; /* scroll area viewport padding */
  --avatar-width: 45px;
  --font-size: 13px;

  display: flex;
  gap: 18px;
  height: 100%;
  box-sizing: border-box;
  /* border: solid 1px red; */
  width: fit-content;

  > div {
    flex: 0 0 var(--column-width);
    height: 100%;
    --input-width: calc(var(--column-width));
    /* border: solid 1px red; */
  }
  > div.separator {
    flex: 0 0 2px;
    border-radius: 1.5px;
    padding: 0;
    margin: 20px 0;
    height: calc(100% - 40px);
    background-color: var(--ca-black-4);
    box-sizing: border-box;
    width: 1px;
  }

  .panel-collaborators,
  .panel-edit-scopes,
  .panel-search-user {
    width: var(--column-width);

    .Input {
      padding-left: 30px;
    }
  }

  .panel-collaborators {
    .ScrollAreaRoot {
      height: calc(100% - var(--header-height));
    }
  }

  .panel-edit-scopes {
    .ScrollAreaRoot {
      height: calc(100% - var(--header-height) - 60px);
    }
    > div {
      height: 60px;
    }
    .user-list-item {
      .user-inline {
        .username {
          max-width: calc(var(--full-name-max-w) + 2 * var(--sa-vp-padding));
          min-width: calc(var(--full-name-max-w) + 2 * var(--sa-vp-padding));
        }
      }
    }
  }

  .panel-search-user {
    .ScrollAreaRoot {
      height: calc(100% - 55px);
    }
  }

  .panel-title {
    line-height: var(--header-height);

    font-size: 14px;
    color: var(--c-gray-9);
  }
}

.user-list-item {
  padding: 5px;
  border-radius: calc((var(--avatar-width) + 5px + 5px) / 2);
  position: relative;
  cursor: pointer;
  background-color: var(--ca-black-7);
  &.collaborator-yet {
    background-color: var(--ca-white-1);
  }
  &:hover {
    background-color: var(--ca-white-2);
  }

  --full-name-max-w: calc(
    var(--column-width) - 2 * var(--sa-vp-padding) - var(--avatar-width) - 60px
  );

  .user-inline {
    .username {
      display: inline-block;
      vertical-align: middle;
      max-width: var(--full-name-max-w);
      min-width: var(--full-name-max-w);
    }
  }

  .button-root,
  .owner-flag {
    position: absolute;
    top: calc(50% - 12px);
    right: 5px;
  }
  .owner-flag {
    right: 15px;
  }
}

/**
 * Scroll Area
 */

.ScrollAreaRoot {
  width: 100%;
  border-radius: 4px;
  overflow: hidden;
  box-shadow: 0 2px 10px var(--ca-black-7);
  background-color: var(--color-node-background);
  --scrollbar-size: 3px;
  border-radius: 10px;
}

.ScrollAreaViewport {
  width: 100%;
  height: 100%;
  border-radius: inherit;
}

.ScrollAreaScrollbar {
  display: flex;
  /* ensures no selection */
  user-select: none;
  /* disable browser handling of all panning and zooming gestures on touch devices */
  touch-action: none;
  padding: 2px;
  background: var(--ca-black-6);
  transition: background 160ms ease-out;
}
.ScrollAreaScrollbar:hover {
  background: var(--ca-black-8);
}
.ScrollAreaScrollbar[data-orientation='vertical'] {
  width: var(--scrollbar-size);
}
.ScrollAreaScrollbar[data-orientation='horizontal'] {
  flex-direction: column;
  height: var(--scrollbar-size);
}

.ScrollAreaThumb {
  flex: 1;
  background: var(--ca-black-6);
  border-radius: var(--scrollbar-size);
  position: relative;
}
/* increase target size for touch devices https://www.w3.org/WAI/WCAG21/Understanding/target-size.html */
.ScrollAreaThumb::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  min-width: 44px;
  min-height: 44px;
}

.ScrollAreaCorner {
  background: var(--ca-black-8);
}

.scope-label {
  color: var(--c-gray-8);
  padding-left: 15px;
  font-size: var(--font-size);
  line-height: 1;
  line-height: 20px;
}
